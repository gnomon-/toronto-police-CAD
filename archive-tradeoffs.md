[//]: # ( :vim:syntax=markdown:tw=72: )

# Compression tests

I want the weekly cleanup job to produce archives with a decent
compression ratio without requiring too much wall clock time or RAM.
There are many more archivers to choose from nowadays than there were 10
or 20 years ago and thus many more points on the performance/cost curve.

What does that curve look like on my personal machine, and how should
that curve guide my choice of archiver?  Let's gather some data.

# Methodology

1. choose a list of archivers, including `cat` as a baseline to
   hopefully factor out I/O costs (but also to warm up the disk cache)
2. pre-generate the list of directories to be compressed at the very
   beginning of the test, because this test will take long enough to
   execute that more data points will be gathered while it's running -
   don't want to bias the results too much
3. run the test for each archiver a few times (arbitrarily I picked 5
   rounds) to at least make it apparent which archivers are a bit more
   sensitive to the (light) load on my person machine
4. measure execution time, maximum resident set size (RAM consumption),
   and the total compressed output size
5. compute compression ratio and ratio per unit of execution time

## Round 1

```bash
rounds=5
dirs=(~/.toronto-police-CAD/1*)
for archiver in \
  cat 'gzip -9' 'bzip2 -9' 'lzip -9' 'zstd -19' 'zstd --ultra -22'; do
	for ((i=0; i<rounds; i++)); do
		tar -Pcf- "${dirs[@]}" | \
		  /usr/bin/time -f '%C\t%E\t%M' $archiver | wc -c
	done
done 2>&1 | \
  awk '
	BEGIN {FS=OFS="\t"};
	/\t/{sub(/^0:0?/,"",$2); buf=$0;next};
	/^[0-9]+$/{print buf,$0; buf=""}' | \
  awk '
	BEGIN {FS=OFS="\t"};
	1==NR{bs=$4};
	{
		ratio=bs/$4;
		rat_per_s=ratio/$2;
		printf("%-16s %5.2f %6d %8d %7.3f %7.3f\n", \
		  $1, $2, $3, $4, ratio, rat_per_s)
	}'
```

| Command | Dur. (sec) | MaxRSS (KB) | Output (bytes) | Ratio | Ratio/s |
|--------------------|-------|--------|----------|---------|---------|
| `cat`              |  0.12 |   1688 | 48394240 |   1.000 |   8.333 |
| `cat`              |  0.12 |   1624 | 48394240 |   1.000 |   8.333 |
| `cat`              |  0.12 |   1816 | 48394240 |   1.000 |   8.333 |
| `cat`              |  0.12 |   1876 | 48394240 |   1.000 |   8.333 |
| `cat`              |  0.12 |   1688 | 48394240 |   1.000 |   8.333 |
| `gzip -9`          |  1.11 |   1640 |  3989460 |  12.131 |  10.928 |
| `gzip -9`          |  1.11 |   1644 |  3989460 |  12.131 |  10.928 |
| `gzip -9`          |  1.11 |   1564 |  3989460 |  12.131 |  10.928 |
| `gzip -9`          |  1.11 |   1556 |  3989460 |  12.131 |  10.928 |
| `gzip -9`          |  1.11 |   1596 |  3989460 |  12.131 |  10.928 |
| `bzip2 -9`         | 27.49 |   8676 |   655491 |  73.829 |   2.686 |
| `bzip2 -9`         | 28.97 |   8736 |   655491 |  73.829 |   2.548 |
| `bzip2 -9`         | 27.95 |   8692 |   655491 |  73.829 |   2.641 |
| `bzip2 -9`         | 28.05 |   8684 |   655491 |  73.829 |   2.632 |
| `bzip2 -9`         | 27.98 |   8700 |   655491 |  73.829 |   2.639 |
| `lzip -9`          | 27.86 | 345488 |   131397 | 368.306 |  13.220 |
| `lzip -9`          | 27.75 | 345488 |   131397 | 368.306 |  13.272 |
| `lzip -9`          | 27.74 | 345504 |   131397 | 368.306 |  13.277 |
| `lzip -9`          | 27.83 | 345488 |   131397 | 368.306 |  13.234 |
| `lzip -9`          | 27.79 | 345460 |   131397 | 368.306 |  13.253 |
| `zstd -19`         |  1.99 |  59612 |   177390 | 272.813 | 137.092 |
| `zstd -19`         |  1.99 |  59612 |   177390 | 272.813 | 137.092 |
| `zstd -19`         |  1.98 |  59592 |   177390 | 272.813 | 137.784 |
| `zstd -19`         |  2.01 |  59596 |   177390 | 272.813 | 135.728 |
| `zstd -19`         |  1.99 |  59828 |   177390 | 272.813 | 137.092 |
| `zstd --ultra -22` | 12.09 | 705128 |   158131 | 306.039 |  25.313 |
| `zstd --ultra -22` | 12.09 | 704988 |   158131 | 306.039 |  25.313 |
| `zstd --ultra -22` | 12.20 | 705008 |   158131 | 306.039 |  25.085 |
| `zstd --ultra -22` | 12.14 | 705000 |   158131 | 306.039 |  25.209 |
| `zstd --ultra -22` | 12.19 | 705004 |   158131 | 306.039 |  25.106 |

## Round 2

```bash
rounds=5; dirs=(~/.toronto-police-CAD/1*); for archiver in cat 'gzip -9' 'pigz -9 -p 4' 'bzip2 -9' 'pbzip2 -9 -p4' 'lzip -9' 'plzip -9 -n4' 'zstd -19' 'zstd --ultra -22' 'pzstd -19 -p4' 'pzstd --ultra -22 -p4'; do for ((i=0; i<rounds; i++)); do tar -Pcf- "${dirs[@]}" | /usr/bin/time -f '%C\t%E\t%M' $archiver | wc -c; done; done 2>&1 | awk 'BEGIN{FS=OFS="\t"}; /\t/{sub(/^0:0?/,"",$2); buf=$0;next}; /^[0-9]+$/{print buf,$0; buf=""}' | awk 'BEGIN{FS=OFS="\t"}; 1==NR{bs=$4}; {ratio=bs/$4; rat_per_s=ratio/$2; printf("| %-21s | %5.2f | %6d | %8d | %7.3f | %7.3f |\n", $1, $2, $3, $4, ratio, rat_per_s)}'
```

| Command | Dur. (sec) | MaxRSS (KB) | Output (bytes) | Ratio | Ratio/s |
|-------------------------|-------|--------|----------|---------|---------|
| `cat`                   |  0.45 |   1876 | 53166080 |   1.000 |   2.222 |
| `cat`                   |  0.14 |   1636 | 53166080 |   1.000 |   7.143 |
| `cat`                   |  0.12 |   1700 | 53166080 |   1.000 |   8.333 |
| `cat`                   |  0.11 |   1876 | 53166080 |   1.000 |   9.091 |
| `cat`                   |  0.13 |   1812 | 53166080 |   1.000 |   7.692 |
| `gzip -9`               |  1.22 |   1600 |  4398172 |  12.088 |   9.908 |
| `gzip -9`               |  1.22 |   1644 |  4398172 |  12.088 |   9.908 |
| `gzip -9`               |  1.22 |   1600 |  4398172 |  12.088 |   9.908 |
| `gzip -9`               |  1.23 |   1428 |  4398172 |  12.088 |   9.828 |
| `gzip -9`               |  1.22 |   1640 |  4398172 |  12.088 |   9.908 |
| `pigz -9 -p 4`          |  0.38 |   4636 |  4383595 |  12.128 |  31.917 |
| `pigz -9 -p 4`          |  0.38 |   4716 |  4383595 |  12.128 |  31.917 |
| `pigz -9 -p 4`          |  0.46 |   4724 |  4383595 |  12.128 |  26.366 |
| `pigz -9 -p 4`          |  0.52 |   4720 |  4383595 |  12.128 |  23.324 |
| `pigz -9 -p 4`          |  0.37 |   4668 |  4383595 |  12.128 |  32.780 |
| `bzip2 -9`              | 31.72 |   8644 |   721810 |  73.657 |   2.322 |
| `bzip2 -9`              | 30.73 |   8652 |   721810 |  73.657 |   2.397 |
| `bzip2 -9`              | 31.13 |   8768 |   721810 |  73.657 |   2.366 |
| `bzip2 -9`              | 30.98 |   8768 |   721810 |  73.657 |   2.378 |
| `bzip2 -9`              | 31.63 |   8748 |   721810 |  73.657 |   2.329 |
| `pbzip2 -9 -p4`         | 18.70 |  40332 |   748376 |  71.042 |   3.799 |
| `pbzip2 -9 -p4`         | 18.98 |  40392 |   748376 |  71.042 |   3.743 |
| `pbzip2 -9 -p4`         | 18.79 |  40172 |   748376 |  71.042 |   3.781 |
| `pbzip2 -9 -p4`         | 19.43 |  40276 |   748376 |  71.042 |   3.656 |
| `pbzip2 -9 -p4`         | 19.80 |  40316 |   748376 |  71.042 |   3.588 |
| `lzip -9`               | 31.19 | 401192 |   143796 | 369.733 |  11.854 |
| `lzip -9`               | 31.21 | 401168 |   143796 | 369.733 |  11.847 |
| `lzip -9`               | 31.14 | 401188 |   143796 | 369.733 |  11.873 |
| `lzip -9`               | 31.16 | 401192 |   143796 | 369.733 |  11.866 |
| `lzip -9`               | 31.22 | 401196 |   143796 | 369.733 |  11.843 |
| `plzip -9 -n4`          | 31.21 | 401192 |   143796 | 369.733 |  11.847 |
| `plzip -9 -n4`          | 31.23 | 401256 |   143796 | 369.733 |  11.839 |
| `plzip -9 -n4`          | 31.20 | 401128 |   143796 | 369.733 |  11.850 |
| `plzip -9 -n4`          | 31.17 | 401172 |   143796 | 369.733 |  11.862 |
| `plzip -9 -n4`          | 31.24 | 401252 |   143796 | 369.733 |  11.835 |
| `zstd -19`              |  2.19 |  59644 |   194527 | 273.310 | 124.799 |
| `zstd -19`              |  2.20 |  59524 |   194527 | 273.310 | 124.232 |
| `zstd -19`              |  2.30 |  59660 |   194527 | 273.310 | 118.830 |
| `zstd -19`              |  2.27 |  59616 |   194527 | 273.310 | 120.401 |
| `zstd -19`              |  2.20 |  59656 |   194527 | 273.310 | 124.232 |
| `zstd --ultra -22`      | 13.39 | 709632 |   173197 | 306.969 |  22.925 |
| `zstd --ultra -22`      | 13.41 | 709636 |   173197 | 306.969 |  22.891 |
| `zstd --ultra -22`      | 13.35 | 709544 |   173197 | 306.969 |  22.994 |
| `zstd --ultra -22`      | 13.38 | 709632 |   173197 | 306.969 |  22.942 |
| `zstd --ultra -22`      | 13.50 | 709544 |   173197 | 306.969 |  22.738 |
| `pzstd -19 -p4`         |  1.32 | 169172 |   198496 | 267.845 | 202.913 |
| `pzstd -19 -p4`         |  1.32 | 169124 |   198496 | 267.845 | 202.913 |
| `pzstd -19 -p4`         |  1.31 | 169132 |   198496 | 267.845 | 204.462 |
| `pzstd -19 -p4`         |  1.37 | 169120 |   198496 | 267.845 | 195.507 |
| `pzstd -19 -p4`         |  1.37 | 169064 |   198496 | 267.845 | 195.507 |
| `pzstd --ultra -22 -p4` | 13.33 | 761604 |   173209 | 306.948 |  23.027 |
| `pzstd --ultra -22 -p4` | 13.20 | 761608 |   173209 | 306.948 |  23.254 |
| `pzstd --ultra -22 -p4` | 13.26 | 761484 |   173209 | 306.948 |  23.148 |
| `pzstd --ultra -22 -p4` | 13.34 | 761532 |   173209 | 306.948 |  23.010 |
| `pzstd --ultra -22 -p4` | 13.29 | 761544 |   173209 | 306.948 |  23.096 |

## Round 3

```bash
rounds=5; dirs=(~/.toronto-police-CAD/1*); for archiver in cat gzip 'gzip -9' 'pigz -p4' 'pigz -9 -p4' bzip2 'bzip2 -9' pbzip2 'pbzip2 -9 -p4' lzip 'lzip -9' plzip 'plzip -9 -n4' zstd 'zstd -19' 'zstd --ultra -22' pzstd 'pzstd -19 -p4' 'pzstd --ultra -22 -p4' brotli lz4 'lz4 -9' lzop 'lzop -9'; do for ((i=0; i<rounds; i++)); do tar -Pcf- "${dirs[@]}" | /usr/bin/time -f '%C\t%E\t%M' $archiver | wc -c; done; done 2>&1 | awk 'BEGIN{FS=OFS="\t"}; /\t/{sub(/^0:0?/,"",$2); buf=$0;next}; /^[0-9]+$/{print buf,$0; buf=""}' | awk 'BEGIN{FS=OFS="\t"}; 1==NR{bs=$4}; {ratio=bs/$4; rat_per_s=ratio/$2; printf("| `%-21s` | %5.2f | %6d | %8d | %7.3f | %7.3f |\n", $1, $2, $3, $4, ratio, rat_per_s)}'
```

```bash
rounds=5
dirs=(~/.toronto-police-CAD/1*)
archivers=( \
  cat
  gzip   'gzip   -9'     'pigz -p4' 'pigz   -9 -p4'
  bzip2  'bzip2  -9'      pbzip2    'pbzip2 -9 -p4'
  lzip   'lzip   -9'      plzip     'plzip  -9 -n4'
  zstd   'zstd  -19'     'zstd  --ultra -22'
  pzstd  'pzstd -19 -p4' 'pzstd --ultra -22 -p4'
  brotli
  lz4    'lz4 -9'
  lzop 'lzop -9'
)
for archiver in "${archivers[@]}"; do
	for ((i=0; i<rounds; i++)); do
		tar -Pcf- "${dirs[@]}" | \
		  /usr/bin/time -f '%C\t%E\t%M' $archiver | \
		  wc -c
	done
done 2>&1 | \
  awk '
	BEGIN {FS=OFS="\t"}
	/\t/ {
		sub(/^0:0?/, "", $2)
		buf = $0
		next
	}
	/^[0-9]+$/ {
		print buf, $0
		buf = ""
	}' | \
  awk '
	BEGIN {FS=OFS="\t"}
	1 == NR {bs = $4}
	{
		ratio = bs/$4
		rat_per_s = ratio/$2
		printf("| `%-21s` | %5.2f | %6d | %8d | %7.3f | %7.3f |\n", \
		  $1, $2, $3, $4, ratio, rat_per_s)
	}'
```

| Command | Dur. (sec) | MaxRSS (KB) | Output (bytes) | Ratio | Ratio/s |
|-------------------------|-------|--------|----------|---------|---------|
| `cat`                   |  0.11 |   1796 | 54231040 |   1.000 |   9.091 |
| `cat`                   |  0.10 |   1884 | 54231040 |   1.000 |  10.000 |
| `cat`                   |  0.12 |   1876 | 54231040 |   1.000 |   8.333 |
| `cat`                   |  0.14 |   1624 | 54231040 |   1.000 |   7.143 |
| `cat`                   |  0.11 |   1796 | 54231040 |   1.000 |   9.091 |
| `gzip`                  |  0.86 |   1640 |  4552264 |  11.913 |  13.852 |
| `gzip`                  |  0.87 |   1604 |  4552264 |  11.913 |  13.693 |
| `gzip`                  |  0.87 |   1660 |  4552264 |  11.913 |  13.693 |
| `gzip`                  |  0.87 |   1644 |  4552264 |  11.913 |  13.693 |
| `gzip`                  |  0.86 |   1660 |  4552264 |  11.913 |  13.852 |
| `gzip -9`               |  1.25 |   1648 |  4489903 |  12.078 |   9.663 |
| `gzip -9`               |  1.26 |   1428 |  4489903 |  12.078 |   9.586 |
| `gzip -9`               |  1.25 |   1640 |  4489903 |  12.078 |   9.663 |
| `gzip -9`               |  1.25 |   1644 |  4489903 |  12.078 |   9.663 |
| `gzip -9`               |  1.27 |   1428 |  4489903 |  12.078 |   9.511 |
| `pigz -p4`              |  0.29 |   4684 |  4537307 |  11.952 |  41.215 |
| `pigz -p4`              |  0.30 |   6720 |  4537307 |  11.952 |  39.841 |
| `pigz -p4`              |  0.29 |   4696 |  4537307 |  11.952 |  41.215 |
| `pigz -p4`              |  0.30 |   6644 |  4537307 |  11.952 |  39.841 |
| `pigz -p4`              |  0.31 |   4612 |  4537307 |  11.952 |  38.556 |
| `pigz -9 -p4`           |  0.39 |   6692 |  4474824 |  12.119 |  31.075 |
| `pigz -9 -p4`           |  0.40 |   6632 |  4474824 |  12.119 |  30.298 |
| `pigz -9 -p4`           |  0.38 |   4688 |  4474824 |  12.119 |  31.892 |
| `pigz -9 -p4`           |  0.38 |   4668 |  4474824 |  12.119 |  31.892 |
| `pigz -9 -p4`           |  0.38 |   4704 |  4474824 |  12.119 |  31.892 |
| `bzip2`                 | 30.82 |   8596 |   735425 |  73.741 |   2.393 |
| `bzip2`                 | 32.50 |   8700 |   735425 |  73.741 |   2.269 |
| `bzip2`                 | 31.02 |   8592 |   735425 |  73.741 |   2.377 |
| `bzip2`                 | 32.09 |   8688 |   735425 |  73.741 |   2.298 |
| `bzip2`                 | 30.53 |   8704 |   735425 |  73.741 |   2.415 |
| `bzip2 -9`              | 32.18 |   8680 |   735425 |  73.741 |   2.292 |
| `bzip2 -9`              | 30.45 |   8700 |   735425 |  73.741 |   2.422 |
| `bzip2 -9`              | 30.63 |   8648 |   735425 |  73.741 |   2.407 |
| `bzip2 -9`              | 30.89 |   8736 |   735425 |  73.741 |   2.387 |
| `bzip2 -9`              | 31.66 |   8596 |   735425 |  73.741 |   2.329 |
| `pbzip2`                | 18.66 |  39816 |   763471 |  71.032 |   3.807 |
| `pbzip2`                | 18.98 |  39780 |   763471 |  71.032 |   3.742 |
| `pbzip2`                | 19.48 |  40084 |   763471 |  71.032 |   3.646 |
| `pbzip2`                | 18.85 |  39792 |   763471 |  71.032 |   3.768 |
| `pbzip2`                | 18.63 |  39800 |   763471 |  71.032 |   3.813 |
| `pbzip2 -9 -p4`         | 19.96 |  40404 |   763471 |  71.032 |   3.559 |
| `pbzip2 -9 -p4`         | 18.93 |  40052 |   763471 |  71.032 |   3.752 |
| `pbzip2 -9 -p4`         | 18.99 |  40368 |   763471 |  71.032 |   3.741 |
| `pbzip2 -9 -p4`         | 19.59 |  39804 |   763471 |  71.032 |   3.626 |
| `pbzip2 -9 -p4`         | 18.87 |  40348 |   763471 |  71.032 |   3.764 |
| `lzip`                  |  2.43 | 327964 |   186099 | 291.410 | 119.922 |
| `lzip`                  |  2.41 | 328040 |   186099 | 291.410 | 120.917 |
| `lzip`                  |  2.38 | 328040 |   186099 | 291.410 | 122.441 |
| `lzip`                  |  2.38 | 326940 |   186099 | 291.410 | 122.441 |
| `lzip`                  |  2.44 | 325968 |   186099 | 291.410 | 119.430 |
| `lzip -9`               | 31.78 | 404736 |   146583 | 369.968 |  11.642 |
| `lzip -9`               | 31.86 | 405396 |   146583 | 369.968 |  11.612 |
| `lzip -9`               | 31.78 | 405332 |   146583 | 369.968 |  11.642 |
| `lzip -9`               | 31.80 | 405312 |   146583 | 369.968 |  11.634 |
| `lzip -9`               | 31.84 | 403376 |   146583 | 369.968 |  11.620 |
| `plzip`                 |  2.57 | 328016 |   186099 | 291.410 | 113.389 |
| `plzip`                 |  2.40 | 327588 |   186099 | 291.410 | 121.421 |
| `plzip`                 |  2.42 | 327300 |   186099 | 291.410 | 120.417 |
| `plzip`                 |  2.39 | 327956 |   186099 | 291.410 | 121.929 |
| `plzip`                 |  2.48 | 328016 |   186099 | 291.410 | 117.504 |
| `plzip -9 -n4`          | 31.85 | 405400 |   146583 | 369.968 |  11.616 |
| `plzip -9 -n4`          | 31.77 | 405400 |   146583 | 369.968 |  11.645 |
| `plzip -9 -n4`          | 31.75 | 405396 |   146583 | 369.968 |  11.653 |
| `plzip -9 -n4`          | 31.86 | 405396 |   146583 | 369.968 |  11.612 |
| `plzip -9 -n4`          | 31.78 | 405268 |   146583 | 369.968 |  11.642 |
| `zstd`                  |  0.19 |   3524 |   748017 |  72.500 | 381.578 |
| `zstd`                  |  0.19 |   3448 |   748017 |  72.500 | 381.578 |
| `zstd`                  |  0.19 |   3580 |   748017 |  72.500 | 381.578 |
| `zstd`                  |  0.19 |   3544 |   748017 |  72.500 | 381.578 |
| `zstd`                  |  0.19 |   3444 |   748017 |  72.500 | 381.578 |
| `zstd -19`              |  2.23 |  60168 |   198278 | 273.510 | 122.650 |
| `zstd -19`              |  2.22 |  59588 |   198278 | 273.510 | 123.203 |
| `zstd -19`              |  2.23 |  59868 |   198278 | 273.510 | 122.650 |
| `zstd -19`              |  2.38 |  60120 |   198278 | 273.510 | 114.920 |
| `zstd -19`              |  2.22 |  59772 |   198278 | 273.510 | 123.203 |
| `zstd --ultra -22`      | 13.64 | 710592 |   176595 | 307.093 |  22.514 |
| `zstd --ultra -22`      | 13.67 | 710584 |   176595 | 307.093 |  22.465 |
| `zstd --ultra -22`      | 13.79 | 710604 |   176595 | 307.093 |  22.269 |
| `zstd --ultra -22`      | 13.71 | 710588 |   176595 | 307.093 |  22.399 |
| `zstd --ultra -22`      | 13.67 | 710692 |   176595 | 307.093 |  22.465 |
| `pzstd`                 |  0.17 |  19492 |   807830 |  67.132 | 394.893 |
| `pzstd`                 |  0.18 |  19500 |   807830 |  67.132 | 372.954 |
| `pzstd`                 |  0.17 |  19540 |   807830 |  67.132 | 394.893 |
| `pzstd`                 |  0.16 |  19604 |   807830 |  67.132 | 419.573 |
| `pzstd`                 |  0.13 |  19528 |   807830 |  67.132 | 516.398 |
| `pzstd -19 -p4`         |  1.39 | 170844 |   202252 | 268.136 | 192.904 |
| `pzstd -19 -p4`         |  1.31 | 170844 |   202252 | 268.136 | 204.684 |
| `pzstd -19 -p4`         |  1.31 | 170904 |   202252 | 268.136 | 204.684 |
| `pzstd -19 -p4`         |  1.32 | 170844 |   202252 | 268.136 | 203.133 |
| `pzstd -19 -p4`         |  1.31 | 170888 |   202252 | 268.136 | 204.684 |
| `pzstd --ultra -22 -p4` | 13.58 | 763588 |   176607 | 307.072 |  22.612 |
| `pzstd --ultra -22 -p4` | 13.48 | 763568 |   176607 | 307.072 |  22.780 |
| `pzstd --ultra -22 -p4` | 13.51 | 763652 |   176607 | 307.072 |  22.729 |
| `pzstd --ultra -22 -p4` | 13.66 | 763652 |   176607 | 307.072 |  22.480 |
| `pzstd --ultra -22 -p4` | 13.46 | 763652 |   176607 | 307.072 |  22.814 |
| `brotli`                | 26.33 | 175064 |   146374 | 370.496 |  14.071 |
| `brotli`                | 26.40 | 175008 |   146374 | 370.496 |  14.034 |
| `brotli`                | 26.38 | 174984 |   146374 | 370.496 |  14.045 |
| `brotli`                | 26.41 | 174840 |   146374 | 370.496 |  14.029 |
| `brotli`                | 26.33 | 174928 |   146374 | 370.496 |  14.071 |
| `lz4`                   |  0.22 |   6100 |  6338449 |   8.556 |  38.890 |
| `lz4`                   |  0.22 |   6048 |  6338449 |   8.556 |  38.890 |
| `lz4`                   |  0.22 |   5980 |  6338449 |   8.556 |  38.890 |
| `lz4`                   |  0.22 |   6056 |  6338449 |   8.556 |  38.890 |
| `lz4`                   |  0.23 |   5968 |  6338449 |   8.556 |  37.199 |
| `lz4 -9`                |  0.79 |   6060 |  5174875 |  10.480 |  13.265 |
| `lz4 -9`                |  0.78 |   6004 |  5174875 |  10.480 |  13.435 |
| `lz4 -9`                |  0.78 |   6052 |  5174875 |  10.480 |  13.435 |
| `lz4 -9`                |  0.78 |   5908 |  5174875 |  10.480 |  13.435 |
| `lz4 -9`                |  0.78 |   6004 |  5174875 |  10.480 |  13.435 |
| `lzop`                  |  0.19 |   1976 |  6782441 |   7.996 |  42.083 |
| `lzop`                  |  0.19 |   1848 |  6782441 |   7.996 |  42.083 |
| `lzop`                  |  0.19 |   1844 |  6782441 |   7.996 |  42.083 |
| `lzop`                  |  0.19 |   1852 |  6782441 |   7.996 |  42.083 |
| `lzop`                  |  0.19 |   1964 |  6782441 |   7.996 |  42.083 |
| `lzop -9`               |  2.91 |   2456 |  5322176 |  10.190 |   3.502 |
| `lzop -9`               |  2.95 |   2312 |  5322176 |  10.190 |   3.454 |
| `lzop -9`               |  2.94 |   2400 |  5322176 |  10.190 |   3.466 |
| `lzop -9`               |  2.91 |   2392 |  5322176 |  10.190 |   3.502 |
| `lzop -9`               |  2.94 |   2396 |  5322176 |  10.190 |   3.466 |

# Conclusion

Based on the combination of runtime, compression ratio, and RAM
consumption, I think `psztd -19` is my best choice.

